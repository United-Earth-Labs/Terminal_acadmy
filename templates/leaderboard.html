{% extends 'base.html' %}

{% block title %}Leaderboard - Terminal Academy{% endblock %}

{% block content %}
<section style="padding: var(--space-xl) 0;">
    <div class="container" style="max-width: 700px;">
        <h1>üèÜ Leaderboard</h1>
        <p style="color: var(--text-muted); margin-bottom: var(--space-xl);">Top learners on Terminal Academy</p>

        <div class="card">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="border-bottom: 2px solid var(--bg-tertiary);">
                        <th style="padding: var(--space-md); text-align: left;">Rank</th>
                        <th style="padding: var(--space-md); text-align: left;">User</th>
                        <th style="padding: var(--space-md); text-align: right;">Level</th>
                        <th style="padding: var(--space-md); text-align: right;">XP</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in top_users %}
                    <tr style="border-bottom: 1px solid var(--bg-tertiary);">
                        <td style="padding: var(--space-md);">
                            {% with rank=forloop.counter %}
                            {% if rank == 1 %}ü•á{% endif %}
                            {% if rank == 2 %}ü•à{% endif %}
                            {% if rank == 3 %}ü•â{% endif %}
                            {% if rank > 3 %}{{ rank }}{% endif %}
                            {% endwith %}
                        </td>
                        <td style="padding: var(--space-md);">
                            {{ entry.user.get_full_name|default:entry.user.email }}
                        </td>
                        <td style="padding: var(--space-md); text-align: right;">
                            <span class="badge">Lvl {{ entry.level }}</span>
                        </td>
                        <td style="padding: var(--space-md); text-align: right; color: var(--accent-green);">
                            {{ entry.total_xp|default:0 }} XP
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="4" style="padding: var(--space-xl); text-align: center; color: var(--text-muted);">
                            No users on the leaderboard yet. Be the first!
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</section>
{% endblock %}