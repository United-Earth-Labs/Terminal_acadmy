# =============================================================================
# PRODUCTION POSTGRESQL ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit the actual .env file to version control!

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================

# SECURITY WARNING: Set DEBUG to False in production!
DEBUG=False

# SECURITY WARNING: Generate a new secret key for production!
# Generate with: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=django-insecure-REPLACE-THIS-WITH-A-REAL-SECRET-KEY-min-50-characters-long

# Comma-separated list of allowed hostnames
# Examples: yourdomain.com,www.yourdomain.com,api.yourdomain.com
ALLOWED_HOSTS=localhost,127.0.0.1

# Django settings module to use
DJANGO_SETTINGS_MODULE=core.settings.production

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================

# PostgreSQL connection URL format:
# postgresql://[USER]:[PASSWORD]@[HOST]:[PORT]/[DATABASE_NAME]
#
# Local PostgreSQL:
DATABASE_URL=postgresql://terminal_user:CHANGE_THIS_PASSWORD@localhost:5432/terminal_academy
#
# Production PostgreSQL (cloud/remote):
# DATABASE_URL=postgresql://prod_user:secure_password@db.example.com:5432/terminal_prod?sslmode=require
#
# Docker PostgreSQL:
# DATABASE_URL=postgresql://terminal_user:password@db:5432/terminal_academy
#
# Heroku PostgreSQL (auto-set by Heroku):
# DATABASE_URL is automatically configured by Heroku
#
# PythonAnywhere PostgreSQL:
# DATABASE_URL=postgresql://username:password@username-xxxx.postgres.pythonanywhere-services.com:10xxx/username$terminal_academy

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Comma-separated list of trusted origins for CSRF
# Must include protocol (http:// or https://)
# Examples: https://yourdomain.com,https://www.yourdomain.com
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# JWT token expiration in hours
JWT_EXPIRATION_HOURS=24

# Optional: Separate JWT secret key (defaults to SECRET_KEY if not set)
# JWT_SECRET_KEY=another-secret-key-for-jwt-tokens

# =============================================================================
# EMAIL CONFIGURATION (Production SMTP)
# =============================================================================

# Email backend
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# SMTP server settings
# Gmail example (requires app-specific password):
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-specific-password

# SendGrid example:
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=apikey
# EMAIL_HOST_PASSWORD=your-sendgrid-api-key

# Mailgun example:
# EMAIL_HOST=smtp.mailgun.org
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=postmaster@yourdomain.com
# EMAIL_HOST_PASSWORD=your-mailgun-password

# Default "from" email address
DEFAULT_FROM_EMAIL=noreply@terminalacademy.com

# =============================================================================
# OPTIONAL: ERROR TRACKING (Sentry)
# =============================================================================

# Sentry DSN for error tracking (optional but recommended for production)
# Get from: https://sentry.io/
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# OPTIONAL: CUSTOM ADMIN URL
# =============================================================================

# Change the admin URL for security (default is /admin/)
# Example: /secret-admin-panel/
# ADMIN_URL=supersecretadmin/

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
# ✓ DEBUG=False
# ✓ SECRET_KEY is a strong random string (min 50 chars)
# ✓ DATABASE_URL points to PostgreSQL (not SQLite)
# ✓ ALLOWED_HOSTS contains your actual domain
# ✓ CSRF_TRUSTED_ORIGINS includes your production URLs
# ✓ Email settings are configured with real SMTP
# ✓ SSL/HTTPS is enabled on your web server
# ✓ Database backups are configured
# ✓ This .env file is in .gitignore (never commit it!)
# =============================================================================

# =============================================================================
# NOTES
# =============================================================================
# 
# 1. Generate Secret Key:
#    python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
#
# 2. Test Database Connection:
#    python manage.py check --database default
#
# 3. Apply Migrations:
#    python manage.py migrate
#    python manage.py createcachetable
#
# 4. Create Superuser:
#    python manage.py createsuperuser
#
# 5. Collect Static Files:
#    python manage.py collectstatic --noinput
#
# 6. Run Production Server:
#    gunicorn core.wsgi:application --bind 0.0.0.0:8000
#
# For detailed setup instructions, see:
# - docs/POSTGRESQL_SETUP_GUIDE.md (complete guide)
# - docs/POSTGRESQL_QUICKSTART.md (quick reference)
#
# =============================================================================
